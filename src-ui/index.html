<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snap-Blaster</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module" src="./main.js"></script>
</head>
<body>
<!-- Header Bar -->
<header>
    <div class="left-group">
        <select id="controller-select" class="controller-select">
            <div class="midi-status">MIDI: <span id="midi-status-indicator" class="inactive">‚óè</span></div>
            <option value="Generic">Generic (No Hardware)</option>
            <!-- MIDI controllers will be populated dynamically -->
        </select>
        <div class="link-controls">
            <div class="bpm-container">
                <label for="bpm-input">BPM: </label>
                <input id="bpm-input" class="bpm" type="number" min="20" max="999" value="120">
            </div>
            <div class="link-status">
                <span class="link-label">Link:</span>
                <span id="link-status-indicator" class="inactive"></span>
                <span id="link-status-text" class="disconnected">Disconnected</span>
            </div>
        </div>
    </div>
    <div class="right-group">
        <button id="ai-btn" class="header-btn">ü§ñ AI</button>
        <button id="snap-btn" class="header-btn">üéõÔ∏è Snap</button>
        <button id="conf-btn" class="header-btn">‚öôÔ∏è Conf</button>
        <button id="new-btn" class="header-btn">‚ú® New</button>
        <button id="save-btn" class="header-btn">üíæ Save</button>
        <button id="load-btn" class="header-btn">üìÇ Load</button>
    </div>
</header>

<!-- Main Content -->
<main>
    <!-- Welcome View -->
    <div id="welcome-view" class="welcome-view">
        <div class="welcome-content">
            <h1>Welcome to Snap-Blaster</h1>
            <p>MIDI CC snapshot controller for digital audio workstations</p>
            <div class="button-group">
                <button id="new-project-btn" class="primary-btn">New Project</button>
                <button id="load-project-btn" class="secondary-btn">Load Project</button>
            </div>
        </div>
    </div>

    <!-- Editor View -->
    <div id="editor-view" class="editor-view hidden">
        <div class="editor-layout">
            <!-- Left Sidebar - Grid and Project Info -->
            <div class="sidebar">
                <div id="grid-container" class="grid-container">
                    <!-- Grid will be generated here -->
                </div>

                <div class="project-info">
                    <div class="info-row">
                        <div class="info-label">Project:</div>
                        <div id="project-name" class="info-value">New Project</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Bank:</div>
                        <div id="bank-name" class="info-value">Default Bank</div>
                    </div>
                    <div class="info-row">
                        <div class="info-label">Snap:</div>
                        <div id="snap-name" class="info-value">Initial Snap</div>
                    </div>
                </div>

                <div class="description-container">
                    <textarea id="snap-description" class="snap-description"
                              placeholder="Snap description...">A starting point</textarea>
                </div>
            </div>

            <!-- Right Content - Parameters -->
            <div class="parameter-panel">
                <div class="tabs-container">
                    <button id="tab-1-16" class="tab-btn active">1-16</button>
                    <button id="tab-17-32" class="tab-btn">17-32</button>
                    <button id="tab-33-48" class="tab-btn">33-48</button>
                    <button id="tab-49-64" class="tab-btn">49-56</button>
                    <button id="copy" class="tab-btn">Copy</button>
                    <button id="paste" class="tab-btn">Paste</button>
                </div>
                <div id="parameters-container" class="parameters-container">
                    <!-- Parameters will be generated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Config View -->
    <div id="config-view" class="config-view hidden">
        <div class="config-header">
            <h4>Parameter Configuration</h4>
            <div class="tabs-container-conf">
                <button id="tab-1-16-conf" class="tab-btn active">1-16</button>
                <button id="tab-17-32-conf" class="tab-btn">17-32</button>
                <button id="tab-33-48-conf" class="tab-btn">33-48</button>
                <button id="tab-49-64-conf" class="tab-btn">49-64</button>
            </div>
            <button id="add-param-btn" class="add-param-btn">+ Add Parameter</button>
        </div>
        <div class="config-table">
            <div class="config-table-header">
                <div class="col-name">Name</div>
                <div class="col-desc">Description</div>
                <div class="col-cc">CC Number</div>
                <div class="col-actions"></div>
            </div>
            <div id="config-params-container" class="config-params-container">
                <!-- Parameter rows will be generated here -->
            </div>
        </div>
    </div>
</main>
</body>
</html>